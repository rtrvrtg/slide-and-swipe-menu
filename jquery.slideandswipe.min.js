(function($,document,window,undefined){"use strict";var slideAndSwipe=$.fn.slideAndSwipe=function(options){var nav=$(this);var navWidth=-nav.outerWidth();var transInitial=navWidth;var settings=$.extend({triggerOnTouchEnd:true,swipeStatus:swipeStatus,allowPageScroll:"vertical",threshold:100,excludedElements:"label, button, input, select, textarea, .noSwipe",speed:250,visibilityBehaviour:{ariaHidden:true,className:null}},options);nav.swipe(settings);function swipeStatus(event,phase,direction,distance){if(phase=="start"){if(nav.hasClass("ssm-nav-visible")){transInitial=0}else{transInitial=navWidth}}var mDistance;if(phase=="move"&&direction=="left"){if(transInitial<0){mDistance=transInitial-distance}else{mDistance=-distance}scrollNav(mDistance,0)}else if(phase=="move"&&direction=="right"){if(transInitial<0){mDistance=transInitial+distance}else{mDistance=distance}scrollNav(mDistance,0)}else if(phase=="cancel"&&direction=="left"&&transInitial===0){scrollNav(0,settings.speed)}else if(phase=="end"&&direction=="left"){hideNavigation()}else if((phase=="end"||phase=="cancel")&&direction=="right"){console.log("end")}}function isSafari(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function scrollNav(distance,duration){nav.css("transition-duration",(duration/1e3).toFixed(1)+"s");if(distance>=0){distance=0}if(distance<=navWidth){distance=navWidth}if(isSafari()||isChrome()){nav.css("-webkit-transform","translate("+distance+"px,0)")}else{nav.css("transform","translate("+distance+"px,0)")}if(distance=="0"){$(".ssm-open-nav").addClass("ssm-nav-visible");$("html").css("overflow","hidden");$(".ssm-overlay").fadeIn()}}var hideNavigation=function(){nav.removeClass("ssm-nav-visible");if(settings.visibilityBehaviour.ariaHidden){nav.prop("aria-hidden",true)}scrollNav(navWidth,settings.speed);$("html").css("overflow","visible");$(".ssm-overlay").fadeOut()};var showNavigation=function(){nav.addClass("ssm-nav-visible");if(settings.visibilityBehaviour.ariaHidden){nav.prop("aria-hidden",false)}scrollNav(0,settings.speed)};$(".ssm-open-nav").click(function(){var visibility=null;if(settings.visibilityBehaviour.ariaHidden){visibility=!nav.prop("aria-hidden")}else{visibility=nav.hasClass("ssm-nav-visible")}if(visibility){hideNavigation()}else{showNavigation()}})}})(window.jQuery||window.$,document,window);if(typeof module!=="undefined"&&module.exports){module.exports=slideAndSwipe}